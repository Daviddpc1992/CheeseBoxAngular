<button class="btn">Volver</button>
<section>
  <h2>Regístrate</h2>
  <hr />
  <div class="row">
    <div class="col-12">
      <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
        <div class="formDoble">
          <div class="mb-3 col-6">
            <label for="" class="ms-2 textForm">Nombre</label>
            <input
              type="text"
              class="form-control"
              formControlName="nombre"
              [(ngModel)]="form.nombre"
              (change)="
                form.username = (form.nombre + form.apellidos).toLowerCase()
              "
            />
            <p
              class="error"
              *ngIf="
                !formulario.controls.nombre.pristine &&
                objectLength(formulario.controls.nombre.errors) > 0
              "
            >
              El nombre es obligatorio
            </p>
          </div>
          <div class="mb-3 ms-2 col-6">
            <label for="" class="ms-2 textForm">Apellidos</label>
            <input
              type="text"
              class="form-control"
              formControlName="apellidos"
              [(ngModel)]="form.apellidos"
              (change)="
                form.username = (form.nombre + form.apellidos).LowerCase()
              "
            />
            <p class="error" *ngIf="checkControl('apellidos', 'required')">
              El apellido es obligatorio
            </p>
          </div>
        </div>
        <div class="mb-3">
          <label for="" class="ms-2 textForm">Usuario</label>
          <input
            disabled
            type="text"
            class="form-control"
            formControlName="username"
            [(ngModel)]="form.username"
          />
        </div>

        <div class="mb-3">
          <label for="" class="ms-2 textForm">Email</label>
          <input type="email" class="form-control" formControlName="email" />
        </div>

        <div class="mb-3">
          <label for="" class="ms-2 textForm">Contraseña</label>
          <input
            type="password"
            class="form-control"
            formControlName="password"
          />
          <p class="error" *ngIf="checkControl('password', 'pattern')">
            El formato del password es incorrecto
          </p>
        </div>
        <div class="formDoble">
          <div class="mb-3 col-6">
            <label for="" class="ms-2 textForm">Foto de perfil</label>
            <input type="file" class="form-control" formControlName="imagen" />
          </div>
        </div>
        <button
          class="btn col-12 botones"
          [disabled]="!formulario.valid"
          type="submit"
        >
          Enviar
        </button>
      </form>
    </div>
  </div>
</section>
